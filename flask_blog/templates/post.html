{% extends "layout.html" %}
{% block content %}



<article class="media content-section">

    <img id="dp" class="rounded-circle" src="{{url_for('static',filename='profile_pics/'+post.author.image_file) }}"
        alt="Profile Pic">

    <div class="media-body">
        <div class="article-metadata">
            <a href="{{ url_for('user_posts',username=post.author.username) }}" class="mr-2">{{ post. author.username }}</a>
            <small class="text-muted">{{ post.date_posted.strftime("%d-%m-%Y") }}</small>
            {% if post.author == current_user %}
            <div>
            <a class="btn btn-secondary btn-sm m-1" href="{{ url_for('update_post',post_id = post.id) }}">Update</a>
            <button type="button" class="btn btn-danger btn-sm m-1" data-bs-toggle="modal" data-bs-target="#deleteModal">Delete</button>
            </div>
        {% endif %}

        </div>
        
            <h2>{{ post.title }}</a></h2>
        
        <p class="article-content">{{ post.content }}<br>Lorem ipsum dolor sit amet consectetur
            adipisicing elit. Dicta, in est. Blanditiis ipsam pariatur quam molestiae impedit, aliquam, quo porro nemo
            voluptatem veniam, architecto maiores reiciendis? Cum unde eius perspiciatis laborum ad ipsum quas vitae
            repellat, voluptas repudiandae fugit reprehenderit vel quaerat incidunt minima repellendus sint nobis
            eligendi nostrum debitis porro voluptatibus ut libero consequuntur? Quibusdam dolorum corporis molestias
            impedit nihil blanditiis, modi sit quidem hic quos nulla nobis asperiores cupiditate quam nisi
            exercitationem placeat quo fugiat. Exercitationem error quo fugit aspernatur. Soluta repudiandae dolores
            magni cum quod doloremque enim vero ut eveniet ipsa nam porro quae deleniti consectetur culpa, nostrum
            debitis corporis consequuntur nisi itaque quia. Eligendi animi quam eaque odio recusandae quisquam? Ratione
            expedita veniam officia quisquam neque magnam totam et qui dolore harum, quo ducimus adipisci sunt tempore
            pariatur, natus id commodi aperiam nobis iure excepturi repellat. Ipsa culpa ullam eius quidem cum, dolorem
            natus provident vel?</p>
    </div>
</article>
<!-- Modal -->
<div class="modal fade text-reset" id="deleteModal" tabindex="-1" aria-labelledby="deleteModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content bg-dark">
      <div class="modal-header">
        <h5 class="modal-title" id="deleteModalLabel">Delete Post?</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>

      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
        <form action="{{ url_for('delete_post',post_id=post.id) }}" method="POST">
            <input  class="btn btn-danger" type="submit" value="Delete" name="delete">
        </form>
        
      </div>
    </div>
  </div>
</div>
{% endblock content %}